<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Facts</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="joke-text"><p id="fact">Drück drauf :)</p></div>
    <div class="button-container">
    <div class="button-background">
    <button class="button" id="button">
      <p class="button__text">
        <span style="--index: 0;">F</span>
        <span style="--index: 1;">A</span>
        <span style="--index: 2;">C</span>
        <span style="--index: 3;">T</span>
        <span style="--index: 4;">S</span>
        <span style="--index: 5;"></span>
        <span style="--index: 6;">F</span>
        <span style="--index: 7;">A</span>
        <span style="--index: 8;">C</span>
        <span style="--index: 9;">T</span>
        <span style="--index: 10;">S</span>
        <span style="--index: 11;"></span>
        <span style="--index: 12;">F</span>
        <span style="--index: 13;">A</span>
        <span style="--index: 14;">C</span>
        <span style="--index: 15;">T</span>
        <span style="--index: 16;">S</span>
      </p>

      <div class="button__circle">
        <svg
          width="14"
          class="button__icon"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 14 15"
        >
          <path
            fill="currentColor"
            d="M13.376 11.552l-.264-10.44-10.44-.24.024 2.28 6.96-.048L.2 12.56l1.488 1.488 9.432-9.432-.048 6.912 2.304.024z"
          ></path>
        </svg>
    
        <svg
          class="button__icon button__icon--copy"
          xmlns="http://www.w3.org/2000/svg"
          width="14"
          fill="none"
          viewBox="0 0 14 15"
        >
          <path
            fill="currentColor"
            d="M13.376 11.552l-.264-10.44-10.44-.24.024 2.28 6.96-.048L.2 12.56l1.488 1.488 9.432-9.432-.048 6.912 2.304.024z"
          ></path>
        </svg>
      </div>
    </button>
    </div>
  </div>

  <div class="content">
<a href="index.html">
<div class="container noselect">
  <div class="canvas">
    <div class="tracker tr-1"></div>
    <div class="tracker tr-2"></div>
    <div class="tracker tr-3"></div>
    <div class="tracker tr-4"></div>
    <div class="tracker tr-5"></div>
    <div class="tracker tr-6"></div>
    <div class="tracker tr-7"></div>
    <div class="tracker tr-8"></div>
    <div class="tracker tr-9"></div>
    <div class="tracker tr-10"></div>
    <div class="tracker tr-11"></div>
    <div class="tracker tr-12"></div>
    <div class="tracker tr-13"></div>
    <div class="tracker tr-14"></div>
    <div class="tracker tr-15"></div>
    <div class="tracker tr-16"></div>
    <div class="tracker tr-17"></div>
    <div class="tracker tr-18"></div>
    <div class="tracker tr-19"></div>
    <div class="tracker tr-20"></div>
    <div class="tracker tr-21"></div>
    <div class="tracker tr-22"></div>
    <div class="tracker tr-23"></div>
    <div class="tracker tr-24"></div>
    <div class="tracker tr-25"></div>
    <div id="card">
    <p id="prompt">Witz?</p>
      <div class="title"><p id="joke"></p></div>      
    </div>
  </div>
</div>
</a>
  <div class="info_text">
    <h1>Witze</h1>
    <p>Wenn du was zum lachen willst guck hinter die Karte.</p>
  </div>
</div>
<div class="bottom">
    <p>© 2024 | Witze-seite</p>
</div>
    <script>
        
        const apiUrl = 'https://uselessfacts.jsph.pl/api/v2/facts/random?language=de';

        document.getElementById('button').addEventListener('click', async () => {
            try {
                const response = await fetch(apiUrl);
                
                if (!response.ok) throw new Error(`HTTP-Fehler: ${response.status}`);

                const data = await response.json();
                console.log('API-Antwort:', data);

                // Setze den Fakt in ein Element mit der ID "fact"
                if (data && data.text) {
                    document.getElementById('fact').textContent = data.text;
                } else {
                    document.getElementById('fact').textContent = 'Kein Fakt gefunden!';
                }
            } catch (error) {
                console.error('Fehler:', error);
                document.getElementById('fact').innerHTML = `<span class="error">Fehler: ${error.message}</span>`;
            }
        });

        document.addEventListener('DOMContentLoaded', async () => {
        const apiUrl = 'https://witzapi.de/api/joke'; // API-Endpunkt
            try {
                const response = await fetch(apiUrl);
                
                if (!response.ok) throw new Error(`HTTP-Fehler: ${response.status}`);

                const data = await response.json();
                console.log('API-Antwort:', data);

                // Extrahiere den Witz aus dem Array
                if (Array.isArray(data) && data.length > 0 && data[0].text) {
                    document.getElementById('joke').textContent = data[0].text;
                } else {
                    document.getElementById('joke').textContent = 'Kein Witz gefunden!';
                }
            } catch (error) {
                console.error('Fehler:', error);
                document.getElementById('joke').textContent = `Fehler: ${error.message}`;
            }
        });
    </script>
</body>
</html>